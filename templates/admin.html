{% extends "base.html" %}
{% block content %}

<div class="container my-5 py-5">
  <div class="mx-auto bg-white p-5 rounded shadow-sm" style="max-width: 1000px;">
    <h1 class="fw-bold text-primary mb-4">Pannello Amministratore</h1>

    <h2 class="h5 fw-semibold mb-3">Utenti Registrati</h2>

    <div class="table-responsive shadow-sm rounded">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-primary">
          <tr>
            <th scope="col">Email</th>
            <th scope="col">Crediti</th>
            <th scope="col">Azioni</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{ user['email'] }}</td>
            <td>{{ user['credits'] }}</td>
            <td>
              <form method="post" action="/admin/delete-user/{{ user['id'] }}" 
                    onsubmit="return confirm('Eliminare questo utente?')" class="d-inline">
                <button type="submit" class="btn btn-link text-danger p-0 fw-semibold text-decoration-none transition-all">
                  Elimina
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
